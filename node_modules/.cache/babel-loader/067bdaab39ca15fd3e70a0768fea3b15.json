{"ast":null,"code":"import _slicedToArray from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{Link}from'react-router-dom';import shareIcon from'../images/shareIcon.svg';import blackHeartIcon from'../images/blackHeartIcon.svg';import{unfavoriteFromLocalStorage}from'../helpers/LocalStorage';import RecipesContext from'../context/RecipesContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var THREE_SECONDS=3000;function FavoriteCard(_ref){var infoRecipe=_ref.infoRecipe,index=_ref.index;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),copiedMsg=_useState2[0],setCopiedMsg=_useState2[1];var _useContext=useContext(RecipesContext),setFavoriteRecipes=_useContext.setFavoriteRecipes;var copyUrlToClipboard=function copyUrlToClipboard(recipeType,recipeId){// fonte: https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard\n// fonte: https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText\nnavigator.clipboard.writeText(\"http://localhost:3000/\".concat(recipeType,\"/\").concat(recipeId));setCopiedMsg('Link copied!');setTimeout(function(){setCopiedMsg(null);},THREE_SECONDS);};var shareAndFavIcons=function shareAndFavIcons(recipeIndex,recipeType,recipeId){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return copyUrlToClipboard(recipeType,recipeId);},children:/*#__PURE__*/_jsx(\"img\",{\"data-testid\":\"\".concat(recipeIndex,\"-horizontal-share-btn\"),alt:\"share-btn\",src:shareIcon})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return setFavoriteRecipes(unfavoriteFromLocalStorage(recipeId));},children:/*#__PURE__*/_jsx(\"img\",{\"data-testid\":\"\".concat(recipeIndex,\"-horizontal-favorite-btn\"),alt:\"favorite-btn\",src:blackHeartIcon})}),copiedMsg&&/*#__PURE__*/_jsx(\"span\",{children:copiedMsg})]});};if(infoRecipe.type==='food'){var name=infoRecipe.name,nationality=infoRecipe.nationality,category=infoRecipe.category,image=infoRecipe.image,id=infoRecipe.id;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/foods/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{width:\"150px\",\"data-testid\":\"\".concat(index,\"-horizontal-image\"),alt:\"recipe-pic\",src:image}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-top-text\"),children:\"\".concat(nationality,\" - \").concat(category)}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-name\"),children:name})]}),shareAndFavIcons(index,'foods',id)]});}if(infoRecipe.type==='drink'){var _name=infoRecipe.name,alcoholicOrNot=infoRecipe.alcoholicOrNot,_image=infoRecipe.image,_id=infoRecipe.id;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/drinks/\".concat(_id),children:[/*#__PURE__*/_jsx(\"img\",{width:\"150px\",\"data-testid\":\"\".concat(index,\"-horizontal-image\"),alt:\"recipe-pic\",src:_image}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-top-text\"),children:alcoholicOrNot}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-name\"),children:_name})]}),shareAndFavIcons(index,'drinks',_id)]});}return null;}export default FavoriteCard;","map":{"version":3,"sources":["/home/devmir/Trybe/portifolio/recipes-app/src/components/FavoriteCard.jsx"],"names":["React","useState","useContext","Link","shareIcon","blackHeartIcon","unfavoriteFromLocalStorage","RecipesContext","THREE_SECONDS","FavoriteCard","infoRecipe","index","copiedMsg","setCopiedMsg","setFavoriteRecipes","copyUrlToClipboard","recipeType","recipeId","navigator","clipboard","writeText","setTimeout","shareAndFavIcons","recipeIndex","type","name","nationality","category","image","id","alcoholicOrNot"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport shareIcon from '../images/shareIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport { unfavoriteFromLocalStorage } from '../helpers/LocalStorage';\nimport RecipesContext from '../context/RecipesContext';\n\nconst THREE_SECONDS = 3000;\n\nfunction FavoriteCard({ infoRecipe, index }) {\n  const [copiedMsg, setCopiedMsg] = useState(null);\n  const { setFavoriteRecipes } = useContext(RecipesContext);\n\n  const copyUrlToClipboard = (recipeType, recipeId) => {\n    // fonte: https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard\n    // fonte: https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText\n    navigator.clipboard.writeText(`http://localhost:3000/${recipeType}/${recipeId}`);\n    setCopiedMsg('Link copied!');\n    setTimeout(() => {\n      setCopiedMsg(null);\n    }, THREE_SECONDS);\n  };\n\n  const shareAndFavIcons = (recipeIndex, recipeType, recipeId) => (\n    <div>\n      <button type=\"button\" onClick={ () => copyUrlToClipboard(recipeType, recipeId) }>\n        <img\n          data-testid={ `${recipeIndex}-horizontal-share-btn` }\n          alt=\"share-btn\"\n          src={ shareIcon }\n        />\n      </button>\n      <button\n        type=\"button\"\n        onClick={ () => setFavoriteRecipes(unfavoriteFromLocalStorage(recipeId)) }\n      >\n        <img\n          data-testid={ `${recipeIndex}-horizontal-favorite-btn` }\n          alt=\"favorite-btn\"\n          src={ blackHeartIcon }\n        />\n      </button>\n      {copiedMsg && <span>{copiedMsg}</span>}\n    </div>);\n\n  if (infoRecipe.type === 'food') {\n    const { name, nationality, category, image, id } = infoRecipe;\n    return (\n      <div>\n        <Link to={ `/foods/${id}` }>\n          <img\n            width=\"150px\"\n            data-testid={ `${index}-horizontal-image` }\n            alt=\"recipe-pic\"\n            src={ image }\n          />\n          <p\n            data-testid={ `${index}-horizontal-top-text` }\n          >\n            {`${nationality} - ${category}`}\n          </p>\n          <p data-testid={ `${index}-horizontal-name` }>{name}</p>\n        </Link>\n        {shareAndFavIcons(index, 'foods', id)}\n      </div>\n    );\n  }\n  if (infoRecipe.type === 'drink') {\n    const { name, alcoholicOrNot, image, id } = infoRecipe;\n    return (\n      <div>\n        <Link to={ `/drinks/${id}` }>\n          <img\n            width=\"150px\"\n            data-testid={ `${index}-horizontal-image` }\n            alt=\"recipe-pic\"\n            src={ image }\n          />\n          <p data-testid={ `${index}-horizontal-top-text` }>{alcoholicOrNot}</p>\n          <p data-testid={ `${index}-horizontal-name` }>{name}</p>\n        </Link>\n        {shareAndFavIcons(index, 'drinks', id)}\n      </div>\n    );\n  }\n  return null;\n}\n\nFavoriteCard.propTypes = {\n  index: PropTypes.number,\n  infoRecipe: PropTypes.shape({\n    name: PropTypes.string,\n    nationality: PropTypes.string,\n    image: PropTypes.string,\n    category: PropTypes.string,\n    id: PropTypes.string,\n    alcoholicOrNot: PropTypes.string,\n  }),\n}.isRequired;\n\nexport default FavoriteCard;\n"]},"metadata":{},"sourceType":"module"}