{"ast":null,"code":"import _asyncToGenerator from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect,useContext}from'react';import{Link,useHistory}from'react-router-dom';import Footer from'../components/Footer';import Header from'../components/Header';import IngredientCard from'../components/IngredientCard';import RecipesContext from'../context/RecipesContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MEALS_INGREDIENTS_URL='https://www.themealdb.com/api/json/v1/1/list.php?i=list';var DRINKS_INGREDIENTS_URL='https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list';var TWELVE=12;function ExploreIngredients(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),ingredients=_useState2[0],setIngredients=_useState2[1];var _useHistory=useHistory(),pathname=_useHistory.location.pathname;var _useContext=useContext(RecipesContext),setSearchFilter=_useContext.setSearchFilter,setApiFilter=_useContext.setApiFilter;var getMealIngredients=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_yield$response$json,meals;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(MEALS_INGREDIENTS_URL);case 2:response=_context.sent;_context.next=5;return response.json();case 5:_yield$response$json=_context.sent;meals=_yield$response$json.meals;setIngredients(meals.filter(function(_,index){return index<TWELVE;}));case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMealIngredients(){return _ref.apply(this,arguments);};}();var getDrinksIngredients=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,_yield$response$json2,drinks;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(DRINKS_INGREDIENTS_URL);case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:_yield$response$json2=_context2.sent;drinks=_yield$response$json2.drinks;setIngredients(drinks.filter(function(_,index){return index<TWELVE;}));case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getDrinksIngredients(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(pathname.includes('foods')){getMealIngredients();}if(pathname.includes('drinks')){getDrinksIngredients();}},[pathname]);var handleClick=function handleClick(ingredient){if(pathname.includes('foods')){setApiFilter('Foods');setSearchFilter(\"filter.php?i=\".concat(ingredient.strIngredient));}if(pathname.includes('drinks')){setApiFilter('Drinks');setSearchFilter(\"filter.php?i=\".concat(ingredient.strIngredient1));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"detailsContainer\",children:[/*#__PURE__*/_jsx(Header,{pageTitle:\"Explore Ingredients\"}),!ingredients?/*#__PURE__*/_jsx(\"p\",{children:\"loading\"}):/*#__PURE__*/_jsx(\"div\",{className:\"containerRecipes\",children:ingredients.map(function(ingredient,index){return/*#__PURE__*/_jsx(Link,{to:pathname.includes('foods')?'/foods':'/drinks',onClick:function onClick(){return handleClick(ingredient);},children:/*#__PURE__*/_jsx(IngredientCard,{infoIngredient:ingredient,index:index})},index);})}),/*#__PURE__*/_jsx(Footer,{})]});}export default ExploreIngredients;","map":{"version":3,"sources":["/home/devmir/Trybe/portifolio/recipes-app/src/pages/ExploreIngredients.jsx"],"names":["React","useState","useEffect","useContext","Link","useHistory","Footer","Header","IngredientCard","RecipesContext","MEALS_INGREDIENTS_URL","DRINKS_INGREDIENTS_URL","TWELVE","ExploreIngredients","ingredients","setIngredients","pathname","location","setSearchFilter","setApiFilter","getMealIngredients","fetch","response","json","meals","filter","_","index","getDrinksIngredients","drinks","includes","handleClick","ingredient","strIngredient","strIngredient1","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport IngredientCard from '../components/IngredientCard';\nimport RecipesContext from '../context/RecipesContext';\n\nconst MEALS_INGREDIENTS_URL = 'https://www.themealdb.com/api/json/v1/1/list.php?i=list';\nconst DRINKS_INGREDIENTS_URL = 'https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list';\nconst TWELVE = 12;\n\nfunction ExploreIngredients() {\n  const [ingredients, setIngredients] = useState();\n  const { location: { pathname } } = useHistory();\n  const { setSearchFilter, setApiFilter } = useContext(RecipesContext);\n\n  const getMealIngredients = async () => {\n    const response = await fetch(MEALS_INGREDIENTS_URL);\n    const { meals } = await response.json();\n    setIngredients(meals.filter((_, index) => index < TWELVE));\n  };\n\n  const getDrinksIngredients = async () => {\n    const response = await fetch(DRINKS_INGREDIENTS_URL);\n    const { drinks } = await response.json();\n    setIngredients(drinks.filter((_, index) => index < TWELVE));\n  };\n\n  useEffect(() => {\n    if (pathname.includes('foods')) {\n      getMealIngredients();\n    }\n    if (pathname.includes('drinks')) {\n      getDrinksIngredients();\n    }\n  }, [pathname]);\n\n  const handleClick = (ingredient) => {\n    if (pathname.includes('foods')) {\n      setApiFilter('Foods');\n      setSearchFilter(`filter.php?i=${ingredient.strIngredient}`);\n    }\n    if (pathname.includes('drinks')) {\n      setApiFilter('Drinks');\n      setSearchFilter(`filter.php?i=${ingredient.strIngredient1}`);\n    }\n  };\n\n  return (\n    <div className=\"detailsContainer\">\n      <Header pageTitle=\"Explore Ingredients\" />\n      {!ingredients ? <p>loading</p> : (\n        <div className=\"containerRecipes\">\n          {\n            ingredients.map((ingredient, index) => (\n              <Link\n                to={ pathname.includes('foods') ? '/foods' : '/drinks' }\n                key={ index }\n                onClick={ () => handleClick(ingredient) }\n              >\n                <IngredientCard\n                  infoIngredient={ ingredient }\n                  index={ index }\n                />\n              </Link>\n            ))\n          }\n        </div>\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default ExploreIngredients;\n"]},"metadata":{},"sourceType":"module"}