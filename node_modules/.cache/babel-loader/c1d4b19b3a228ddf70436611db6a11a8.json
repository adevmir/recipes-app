{"ast":null,"code":"import _asyncToGenerator from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/devmir/Trybe/portifolio/recipes-app/node_modules/@babel/runtime/regenerator/index.js\";import React,{useCallback,useEffect,useState}from'react';import'../CSS/Recommended.css';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Recommended(){var historyUrl=window.location.href;var foodRecipe=historyUrl.includes('foods');var drinkRecipe=historyUrl.includes('drinks');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recomendation=_useState2[0],setRecomendation=_useState2[1];var maxRecommendation=6;var recommendedFoodAPI=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,_yield$fetch$then,meals;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='https://www.themealdb.com/api/json/v1/1/search.php?s=';_context.next=3;return fetch(url).then(function(response){return response.json();});case 3:_yield$fetch$then=_context.sent;meals=_yield$fetch$then.meals;setRecomendation(meals.slice(0,maxRecommendation));case 6:case\"end\":return _context.stop();}}},_callee);})),[]);var recommendedDrinkAPI=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,_yield$fetch$then2,drinks;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url='https://www.thecocktaildb.com/api/json/v1/1/search.php?s=';_context2.next=3;return fetch(url).then(function(response){return response.json();});case 3:_yield$fetch$then2=_context2.sent;drinks=_yield$fetch$then2.drinks;setRecomendation(drinks.slice(0,maxRecommendation));case 6:case\"end\":return _context2.stop();}}},_callee2);})),[]);useEffect(function(){if(drinkRecipe){recommendedFoodAPI();}else if(foodRecipe){recommendedDrinkAPI();}},[foodRecipe,recommendedDrinkAPI,recommendedFoodAPI,drinkRecipe]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Recommended \"}),/*#__PURE__*/_jsx(\"div\",{className:\"recomendation\",children:drinkRecipe?recomendation.map(function(element,index){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"\".concat(index,\"-recomendation-card\"),children:/*#__PURE__*/_jsxs(Link,{to:\"/foods/\".concat(element.idMeal),children:[/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-recomendation-title\"),children:element.strMeal}),/*#__PURE__*/_jsx(\"img\",{src:element.strMealThumb,alt:\"\"})]})},\"\".concat(element.idMeal));}):recomendation.map(function(element,index){return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"\".concat(index,\"-recomendation-card\"),children:/*#__PURE__*/_jsxs(Link,{to:\"/drinks/\".concat(element.idDrink),children:[/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"\".concat(index,\"-recomendation-title\"),children:element.strDrink}),/*#__PURE__*/_jsx(\"img\",{className:\"imgRecomendation\",src:element.strDrinkThumb,alt:\"\"})]})},index);})})]});}export default Recommended;","map":{"version":3,"sources":["/home/devmir/Trybe/portifolio/recipes-app/src/components/Recommended.jsx"],"names":["React","useCallback","useEffect","useState","Link","Recommended","historyUrl","window","location","href","foodRecipe","includes","drinkRecipe","recomendation","setRecomendation","maxRecommendation","recommendedFoodAPI","url","fetch","then","response","json","meals","slice","recommendedDrinkAPI","drinks","map","element","index","idMeal","strMeal","strMealThumb","idDrink","strDrink","strDrinkThumb"],"mappings":"gYAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAO,wBAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,QAASC,CAAAA,WAAT,EAAuB,CACrB,GAAMC,CAAAA,UAAU,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAnC,CACA,GAAMC,CAAAA,UAAU,CAAGJ,UAAU,CAACK,QAAX,CAAoB,OAApB,CAAnB,CACA,GAAMC,CAAAA,WAAW,CAAGN,UAAU,CAACK,QAAX,CAAoB,QAApB,CAApB,CAEA,cAA0CR,QAAQ,CAAC,EAAD,CAAlD,wCAAOU,aAAP,eAAsBC,gBAAtB,eACA,GAAMC,CAAAA,iBAAiB,CAAG,CAA1B,CAEA,GAAMC,CAAAA,kBAAkB,CAAGf,WAAW,sEAAC,mKAC/BgB,GAD+B,CACzB,uDADyB,uBAEbC,CAAAA,KAAK,CAACD,GAAD,CAAL,CACrBE,IADqB,CAChB,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADgB,CAFa,wCAE7BC,KAF6B,mBAE7BA,KAF6B,CAIrCR,gBAAgB,CAACQ,KAAK,CAACC,KAAN,CAAY,CAAZ,CAAeR,iBAAf,CAAD,CAAhB,CAJqC,sDAAD,GAKnC,EALmC,CAAtC,CAOA,GAAMS,CAAAA,mBAAmB,CAAGvB,WAAW,sEAAC,0KAChCgB,GADgC,CAC1B,2DAD0B,wBAEbC,CAAAA,KAAK,CAACD,GAAD,CAAL,CACtBE,IADsB,CACjB,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADiB,CAFa,0CAE9BI,MAF8B,oBAE9BA,MAF8B,CAItCX,gBAAgB,CAACW,MAAM,CAACF,KAAP,CAAa,CAAb,CAAgBR,iBAAhB,CAAD,CAAhB,CAJsC,wDAAD,GAKpC,EALoC,CAAvC,CAOAb,SAAS,CAAC,UAAM,CACd,GAAIU,WAAJ,CAAiB,CACfI,kBAAkB,GACnB,CAFD,IAEO,IAAIN,UAAJ,CAAgB,CACrBc,mBAAmB,GACpB,CACF,CANQ,CAMN,CAACd,UAAD,CAAac,mBAAb,CAAkCR,kBAAlC,CAAsDJ,WAAtD,CANM,CAAT,CAOA,mBACE,oCACE,qCADF,cAEE,YAAK,SAAS,CAAC,eAAf,UACGA,WAAW,CACVC,aAAa,CAACa,GAAd,CAAkB,SAACC,OAAD,CAAUC,KAAV,qBAChB,YACE,wBAAiBA,KAAjB,uBADF,uBAIE,MAAC,IAAD,EACE,EAAE,kBAAaD,OAAO,CAACE,MAArB,CADJ,wBAGE,UAAG,wBAAiBD,KAAjB,wBAAH,UAAoDD,OAAO,CAACG,OAA5D,EAHF,cAIE,YAAK,GAAG,CAAGH,OAAO,CAACI,YAAnB,CAAkC,GAAG,CAAC,EAAtC,EAJF,GAJF,YAEWJ,OAAO,CAACE,MAFnB,EADgB,EAAlB,CADU,CAcVhB,aAAa,CAACa,GAAd,CAAkB,SAACC,OAAD,CAAUC,KAAV,qBAChB,YAAK,wBAAiBA,KAAjB,uBAAL,uBACE,MAAC,IAAD,EACE,EAAE,mBAAcD,OAAO,CAACK,OAAtB,CADJ,wBAGE,UAAG,wBAAiBJ,KAAjB,wBAAH,UAAoDD,OAAO,CAACM,QAA5D,EAHF,cAIE,YACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAGN,OAAO,CAACO,aAFhB,CAGE,GAAG,CAAC,EAHN,EAJF,GADF,EAAyDN,KAAzD,CADgB,EAAlB,CAfJ,EAFF,GADF,CAmCD,CAED,cAAevB,CAAAA,WAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport '../CSS/Recommended.css';\nimport { Link } from 'react-router-dom';\n\nfunction Recommended() {\n  const historyUrl = window.location.href;\n  const foodRecipe = historyUrl.includes('foods');\n  const drinkRecipe = historyUrl.includes('drinks');\n\n  const [recomendation, setRecomendation] = useState([]);\n  const maxRecommendation = 6;\n\n  const recommendedFoodAPI = useCallback(async () => {\n    const url = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\n    const { meals } = await fetch(url)\n      .then((response) => response.json());\n    setRecomendation(meals.slice(0, maxRecommendation));\n  }, []);\n\n  const recommendedDrinkAPI = useCallback(async () => {\n    const url = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?s=';\n    const { drinks } = await fetch(url)\n      .then((response) => response.json());\n    setRecomendation(drinks.slice(0, maxRecommendation));\n  }, []);\n\n  useEffect(() => {\n    if (drinkRecipe) {\n      recommendedFoodAPI();\n    } else if (foodRecipe) {\n      recommendedDrinkAPI();\n    }\n  }, [foodRecipe, recommendedDrinkAPI, recommendedFoodAPI, drinkRecipe]);\n  return (\n    <div>\n      <h2> Recommended </h2>\n      <div className=\"recomendation\">\n        {drinkRecipe ? (\n          recomendation.map((element, index) => (\n            <div\n              data-testid={ `${index}-recomendation-card` }\n              key={ `${element.idMeal}` }\n            >\n              <Link\n                to={ `/foods/${element.idMeal}` }\n              >\n                <p data-testid={ `${index}-recomendation-title` }>{ element.strMeal }</p>\n                <img src={ element.strMealThumb } alt=\"\" />\n              </Link>\n            </div>\n          ))) : (\n          recomendation.map((element, index) => (\n            <div data-testid={ `${index}-recomendation-card` } key={ index }>\n              <Link\n                to={ `/drinks/${element.idDrink}` }\n              >\n                <p data-testid={ `${index}-recomendation-title` }>{ element.strDrink }</p>\n                <img\n                  className=\"imgRecomendation\"\n                  src={ element.strDrinkThumb }\n                  alt=\"\"\n                />\n              </Link>\n            </div>\n          )))}\n      </div>\n    </div>\n  );\n}\n\nexport default Recommended;\n"]},"metadata":{},"sourceType":"module"}